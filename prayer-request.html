<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KFGC Prayer Request</title>
    <!-- Main script -->
  <script src="script.js" defer></script>
    
    <link rel="stylesheet" href="general-styles.css">
<!-- Favicon -->
  <link rel="icon" href="favicon.ico" type="image/x-icon">

</head>
<body>
<style>
    .header {
    background-color: #0A1A44; /* Navy Blue */
    color: white;
    padding: 10px;
    display: flex;
    justify-content:space-between;
    justify-content: center;
    align-items: center;
    position: fixed;
    top: 0;
    width: 100%;
    height: 60px;
    z-index: 1200;
    }
.logo img {
    height: 55px;
    }
    body.light {
        background: #ffffff;
        color: #000;
    }
    body.dark {
        background: #000;
        color: #ffffff;
    }
    .back-button {
    position: absolute;
    left: 10px;
    color: white;
    text-decoration: none;
    font-size: 18px;
    }
.container{
  max-width:500px;
  margin:30px auto;
  padding:15px;
}
.card{
  background:grey;
  border-radius:10px;
  padding:20px;
  box-shadow:0 4px 12px rgba(0,0,0,0.1);
}
label{
  font-weight:600;
  font-size:14px;
}
input, textarea{
  width:100%;
  padding:10px;
  margin:8px 0 15px;
  border-radius:6px;
  border:1px solid #ccc;
}
button{
  width:100%;
  padding:12px;
  background:#0b3d2e;
  color:#fff;
  border:none;
  border-radius:6px;
  font-size:15px;
}
button:disabled{
  background:#999;
}
.msg{
  text-align:center;
  margin-top:12px;
  display:none;
}
.success{color:green;}
.error{color:red;}
</style>
</head>

<body>

    <!-- Header -->
    <header class="header">
        <a href="javascript:history.back()" class="back-button">‚Üê Back</a>
        <div class="logo">
            <img src="kfgc.jpg" alt="Church Logo">
        </div>
    </header>

<div class="container">
  <div class="card">
    <h>Submit Prayer Request</h>
<h3>Submit Prayer Request</h3>
    <form id="prayerForm">
      <label>Name (optional)</label>
      <input id="prayer_name" placeholder="Your name">

      <label>Contact (optional)</label>
      <input id="contact" placeholder="Phone number">

      <label>Email (optional)</label>
      <input id="email" placeholder="Email address">

      <label>Prayer Request *</label>
      <textarea id="request" required></textarea>

      <button id="btn" type="submit">Submit Prayer</button>

      <div class="msg success" id="ok">üôè Prayer submitted successfully</div>
      <div class="msg error" id="fail">‚ùå Submission failed</div>
    </form>
  </div>
</div>

<script>
const SCRIPT_URL =
"https://script.google.com/macros/s/AKfycbxGuLzNgt_GNPRh2250O8HPD88sO0Y-MJV_vhcQ9zszjVTousiEL8RlT2zwje6Yx2jvkw/exec";

const form = document.getElementById("prayerForm");
const btn = document.getElementById("btn");
const ok = document.getElementById("ok");
const fail = document.getElementById("fail");

form.addEventListener("submit", async (e) => {
  e.preventDefault();
  ok.style.display = fail.style.display = "none";

  btn.disabled = true;
  btn.textContent = "Submitting...";

  const payload = {
    name: document.getElementById("prayer_name").value.trim(),
    contact: document.getElementById("contact").value.trim(),
    email: document.getElementById("email").value.trim(),
    "prayer request": document.getElementById("request").value.trim()
  };

  try {
    const res = await fetch(SCRIPT_URL, {
      method: "POST",
      body: JSON.stringify(payload)
    });

    const data = await res.json();

    if (data.success) {
      ok.style.display = "block";
      form.reset();
    } else {
      fail.style.display = "block";
      console.error(data.error);
    }

  } catch (err) {
    console.error(err);
    fail.style.display = "block";
  }

  btn.disabled = false;
  btn.textContent = "Submit Prayer";
});
</script>
<footer class="footer">
        <p>
            Follow us on 
            <a href="https://whatsapp.com/channel/0029VaoQRhnHwXb9FX0Ub503">WhatsApp</a> |
            <a href="https://www.youtube.com/@KIRINDAFULLGOSPELCHURCHNYENDO">YouTube</a> |
             <a href="https://www.facebook.com/profile.php?id=61579066273777">Facebook</a> |  
            <a href="https://t.me/+wJRnn7SQvehhZTFk">Telegram</a> |
            <a href="https://www.tiktok.com/@kirindafullgospel">TikTok</a>
        </p>
        <p>&copy; 2025 KFGC MEDIA APP. All Rights Reserved.</p>
</footer>
</body>
</html>
