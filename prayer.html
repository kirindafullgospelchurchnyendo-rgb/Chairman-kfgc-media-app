<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>KFGC Admin Dashboard</title>
<style>
body{font-family:Arial;background:#f4f7f6;margin:0;padding:20px}
h2{text-align:center}
table{width:100%;border-collapse:collapse;background:#fff}
th,td{padding:10px;border:1px solid #ddd;font-size:14px}
th{background:#0b3d2e;color:#fff}
</style>
</head>
<body>

<h2>KFGC Prayer Requests</h2>

<table id="table">
  <thead></thead>
  <tbody></tbody>
</table>

<script>
const SCRIPT_URL =
"https://script.google.com/macros/s/AKfycbxGuLzNgt_GNPRh2250O8HPD88sO0Y-MJV_vhcQ9zszjVTousiEL8RlT2zwje6Yx2jvkw/exec";

fetch(SCRIPT_URL + "?admin=KFGC_ADMIN_2025")
.then(res => res.json())
.then(data => {
  const table = document.getElementById("table");
  const thead = table.querySelector("thead");
  const tbody = table.querySelector("tbody");

  if (!data.length) return;

  thead.innerHTML = "<tr>" +
    Object.keys(data[0]).map(h => `<th>${h}</th>`).join("") +
    "</tr>";

  data.forEach(row => {
    tbody.innerHTML += "<tr>" +
      Object.values(row).map(v => `<td>${v || ""}</td>`).join("") +
      "</tr>";
  });
});
</script>

</body>
</html>
